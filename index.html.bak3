<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://mcp.figma.com/mcp/html-to-design/capture.js"></script>
  <title>CTV Export — Working Prototype</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Source+Sans+3:ital,wght@0,400;0,600;0,700;1,400&display=swap');

    :root {
      --font: 'Adobe Clean', 'Source Sans 3', system-ui, sans-serif;
      --neutral:  #292929;
      --subdued:  #505050;
      --gray-25:  #FFFFFF;
      --gray-100: #E9E9E9;
      --gray-200: #D0D0D0;
      --gray-300: #B5B5B5;
      --gray-400: #9A9A9A;
      --gray-500: #7E7E7E;
      --gray-800: #2e2e2e;
      --blue:     #274dea;
      --blue-bg:  #eef1fd;
      --green:    #12805c;
      --red:      #d7373f;
      --red-bg:   #fde8e9;
      --orange:   #cb6f10;
      --layer1:   #f8f8f8;
      --shadow:   0px 2px 8px 0px rgba(0,0,0,0.16);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    .hidden { display: none !important; }

    body {
      background: #DCDCDC;
      font-family: var(--font);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 40px;
      gap: 40px;
    }

    .container {
      display: flex;
      gap: 40px;
      align-items: flex-start;
    }

    .option-wrapper {
      display: flex;
      flex-direction: column;
      gap: 16px;
      align-items: center;
    }

    .option-label {
      font-size: 12px;
      font-weight: 600;
      color: var(--neutral);
      background: var(--gray-100);
      padding: 4px 12px;
      border-radius: 12px;
      text-transform: uppercase;
      letter-spacing: 0.8px;
      cursor: pointer;
      transition: background 0.15s, color 0.15s;
      user-select: none;
    }

    .option-label:hover {
      background: var(--gray-200);
    }

    .option-label.active {
      background: var(--neutral);
      color: white;
    }

    /* ── Panel ── */
    .panel {
      background: var(--gray-25);
      border-radius: 8px;
      box-shadow: var(--shadow);
      width: 480px;
      padding: 24px;
      display: none;
      flex-direction: column;
      gap: 8px;
      opacity: 0;
      transform: translateY(-10px);
      transition: opacity 0.2s ease, transform 0.2s ease;
    }

    .panel.visible {
      display: flex;
      animation: flyout 0.2s ease forwards;
    }

    @keyframes flyout {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* ── Header ── */
    .panel-header h2 {
      font-size: 20px; font-weight: 700;
      color: var(--neutral); line-height: 24px;
      margin-bottom: 8px;
    }
    .panel-header p {
      font-size: 14px; color: var(--subdued);
      line-height: 1.45;
    }

    /* ── Asset info bar ── */
    .asset-info {
      display: flex; align-items: center;
      gap: 10px; font-size: 13px; color: var(--neutral);
    }
    .info-item { display: flex; align-items: center; gap: 4px; }
    .info-item svg { color: var(--gray-500); flex-shrink: 0; }
    .divider-v { width:1px; height:12px; background:var(--gray-200); flex-shrink:0; }

    /* ── Platform section ── */
    .platform-section {
      margin: 12px 0 12px 0;
      position: relative;
    }

    /* Fade gradient at bottom of list */
    .platform-section::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 60px;
      background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 100%);
      pointer-events: none;
    }

    /* ── Section label ── */
    .section-label {
      font-size: 14px; color: var(--subdued);
      display: flex; align-items: baseline; justify-content: space-between;
      padding-bottom: 6px;
    }
    .section-label .count {
      display: none; /* Hidden for all options */
    }

    /* ── Platform accordion list ── */
    .platform-list {
      display: flex; flex-direction: column; gap: 6px;
      max-height: 308px; /* 4.5 rows × 60px + 4 gaps × 6px + 14px extra = 308px */
      overflow-y: auto;
      overflow-x: hidden;
      padding-right: 4px;
      padding-bottom: 60px; /* Space for last item to scroll into view */
    }

    /* Custom scrollbar styling */
    .platform-list::-webkit-scrollbar {
      width: 8px;
    }

    .platform-list::-webkit-scrollbar-track {
      background: transparent;
      border-radius: 4px;
    }

    .platform-list::-webkit-scrollbar-thumb {
      background: var(--gray-400);
      border-radius: 4px;
    }

    .platform-list::-webkit-scrollbar-thumb:hover {
      background: var(--gray-500);
    }

    .platform-row {
      border: 2px solid #E9E9E9;
      border-radius: 8px;
      overflow: hidden;
      transition: border-color 0.12s, background 0.12s;
      background: white;
      flex-shrink: 0;
    }
    .platform-row:hover {
      background: #F8F8F8;
    }
    .platform-row.selected {
      border-color: var(--neutral);
      background: white;
    }

    .platform-row-header {
      display: flex; align-items: center;
      gap: 10px; padding: 9px 12px;
      cursor: pointer; user-select: none;
      height: 60px;
      min-height: 60px;
    }

    /* Checkbox */
    .platform-check {
      width: 18px; height: 18px;
      border-radius: 4px;
      border: 2px solid var(--gray-300);
      display: flex; align-items: center; justify-content: center;
      flex-shrink: 0;
      background: white;
      transition: background 0.1s, border-color 0.1s;
    }
    .platform-row.selected .platform-check {
      background: var(--neutral);
      border-color: var(--neutral);
    }
    .platform-check svg { display: none; }
    .platform-row.selected .platform-check svg { display: block; }

    /* Custom Radio Buttons */
    input[type="radio"] {
      appearance: none;
      -webkit-appearance: none;
      width: 16px;
      height: 16px;
      border: 2px solid var(--gray-400);
      border-radius: 50%;
      background: white;
      cursor: pointer;
      position: relative;
      transition: border-color 0.15s, background 0.15s;
    }

    input[type="radio"]:hover {
      border-color: var(--gray-500);
    }

    input[type="radio"]:checked {
      border-color: var(--neutral);
      background: var(--neutral);
    }

    input[type="radio"]:checked::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: white;
    }

    /* Logo */
    .platform-logo {
      width: 40px; height: 40px;
      border-radius: 4px;
      display: flex; align-items: center; justify-content: center;
      flex-shrink: 0;
      overflow: hidden;
    }
    .platform-logo img {
      width: 100%; height: 100%;
      object-fit: contain;
    }

    /* Name */
    .platform-name {
      flex: 1;
      font-size: 14px; font-weight: 400;
      color: var(--neutral);
    }

    /* Chevron — only visible when selected */
    .platform-chevron {
      flex-shrink: 0;
      color: var(--gray-500);
      transition: transform 0.18s, opacity 0.12s;
      opacity: 0;
      pointer-events: none;
    }
    .platform-row.selected .platform-chevron {
      opacity: 1;
      pointer-events: auto;
    }
    .platform-row.open .platform-chevron {
      transform: rotate(180deg);
    }

    /* Spec panel (expanded) */
    .platform-specs {
      display: none;
      border-top: 1px solid var(--gray-100);
      padding: 10px 12px 12px 12px;
      background: white;
    }
    .platform-row.open .platform-specs {
      display: block;
    }
    .spec-row {
      display: flex; justify-content: space-between;
      align-items: baseline;
      font-size: 12px;
      padding: 3px 0;
    }
    .spec-label { color: var(--subdued); }
    .spec-value { font-weight: 600; color: var(--neutral); text-align: right; }
    .spec-value.warning { color: var(--orange); }

    /* ── Custom Platform Pickers ── */
    .platform-specs--custom {
      padding: 16px 12px;
      flex-direction: column;
      gap: 12px;
    }

    .platform-row.open .platform-specs--custom {
      display: flex;
    }

    .custom-field {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .custom-field__label {
      font-size: 12px;
      color: var(--subdued);
      font-weight: 400;
    }

    .custom-select {
      width: 100%;
      height: 32px;
      padding: 0 32px 0 10px;
      border: none;
      border-radius: 6px;
      background-color: var(--gray-100);
     
      background-repeat: no-repeat;
      background-position: right 10px center;
      font-size: 14px;
      color: var(--neutral);
      font-weight: 400;
      font-family: 'Adobe Clean', 'Source Sans 3', system-ui, sans-serif;
      cursor: pointer;
      appearance: none;
      transition: background-color 0.13s;
      text-align: left;
      display: flex;
      align-items: center;
    }

    .custom-select:hover {
      background-color: var(--gray-200);
     
    }

    .custom-select:focus {
      outline: none;
      background-color: white;
     
      box-shadow: 0 0 0 2px var(--blue);
    }

    /* Blue focus state for all select elements */
    select:focus {
      outline: none;
      box-shadow: 0 0 0 2px var(--blue);
    }

    /* Custom Dropdown Menu */
    .custom-dropdown {
      position: relative;
      width: 100%;
    }

    .custom-dropdown__menu {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      margin-top: 4px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
      padding: 8px;
      z-index: 1000;
      display: none;
      max-height: 300px;
      overflow-y: auto;
    }

    .custom-dropdown__menu.open {
      display: block;
    }

    .custom-dropdown__option {
      padding: 6px 12px;
      border-radius: 6px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      color: var(--neutral);
      transition: background 0.13s;
      text-align: left;
      min-height: 32px;
    }

    .custom-dropdown__option:hover {
      background: var(--gray-100);
    }

    .custom-dropdown__option.selected {
      background: var(--gray-100);
    }

    .custom-dropdown__option-check {
      width: 16px;
      height: 16px;
      flex-shrink: 0;
      opacity: 0;
    }

    .custom-dropdown__option.selected .custom-dropdown__option-check {
      opacity: 1;
    }

    .custom-dropdown__divider {
      height: 1px;
      background: var(--gray-200);
      margin: 8px 0;
    }

    .custom-dropdown__section-label {
      padding: 8px 12px 4px;
      font-size: 12px;
      font-weight: 600;
      color: var(--subdued);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .custom-recommended {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
      color: var(--blue);
      margin-top: 2px;
    }

    .custom-recommended svg {
      flex-shrink: 0;
    }

    .custom-field--filesize {
      flex-direction: row;
      justify-content: space-between;
      align-items: baseline;
      margin-top: 4px;
      padding-top: 8px;
    }

    .custom-field__value {
      font-size: 12px;
      font-weight: 600;
      color: var(--neutral);
    }

    /* ── Option B Styles ── */
    .panel-b .asset-info-bar {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 13px;
      color: var(--neutral);
    }

    .panel-b .asset-info-bar__item {
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .panel-b .asset-info-bar__icon {
      color: var(--gray-500);
      flex-shrink: 0;
    }

    .panel-b .asset-info-bar__divider {
      width: 1px;
      height: 12px;
      background: var(--gray-200);
      flex-shrink: 0;
    }

    .panel-b__options {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .options-header {
      display: flex;
      align-items: center;
      gap: 12px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--gray-100);
    }

    .back-button {
      width: 32px;
      height: 32px;
      border: none;
      background: none;
      color: var(--neutral);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      padding: 0;
      transition: background 0.13s;
    }

    .back-button:hover {
      background: var(--layer1);
    }

    .options-header h2 {
      font-size: 18px;
      font-weight: 700;
      color: var(--neutral);
      margin: 0;
    }

    .options-content {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .option-field {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .option-field__label {
      font-size: 14px;
      font-weight: 400;
      color: var(--neutral);
    }

    .option-field__select {
      width: 100%;
      height: 32px;
      padding: 0 36px 0 12px;
      border: none;
      border-radius: 6px;
      background-color: var(--gray-100);
     
      background-repeat: no-repeat;
      background-position: right 12px center;
      font-size: 14px;
      color: var(--neutral);
      font-weight: 400;
      font-family: 'Adobe Clean', 'Source Sans 3', system-ui, sans-serif;
      cursor: pointer;
      appearance: none;
      transition: background-color 0.13s;
      text-align: left;
    }

    .option-field__select:hover {
      background-color: var(--gray-200);
     
    }

    .option-field__select:focus {
      outline: none;
      background-color: white;
     
      box-shadow: 0 0 0 2px var(--neutral);
    }

    .option-field__recommended {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 13px;
      color: var(--blue);
      font-weight: 400;
    }

    .option-field__recommended svg {
      flex-shrink: 0;
    }

    .option-field--filesize {
      flex-direction: row;
      justify-content: space-between;
      align-items: baseline;
      padding-top: 8px;
      border-top: 1px solid var(--gray-100);
    }

    .option-field__value {
      font-size: 14px;
      font-weight: 600;
      color: var(--neutral);
    }

    /* Panel transitions */
    #panel-b-main,
    .panel-b__options {
      transition: opacity 0.25s ease, transform 0.25s ease;
    }

    /* Ensure Option B has same spacing hierarchy as Option A */
    #panel-b-main {
      display: flex;
      flex-direction: column;
      gap: 8px; /* matches .panel gap for consistent spacing */
    }

    /* Main panel states */
    #panel-b-main.hiding {
      opacity: 0;
      transform: translateX(-20px);
      pointer-events: none;
    }

    #panel-b-main.hidden {
      opacity: 0;
      transform: translateX(-20px);
      pointer-events: none;
    }

    #panel-b-main.showing {
      opacity: 1;
      transform: translateX(0);
    }

    /* Options panel states */
    .panel-b__options.showing {
      opacity: 1;
      transform: translateX(0);
    }

    .panel-b__options.hidden {
      opacity: 0;
      transform: translateX(20px);
      pointer-events: none;
    }

    /* Option B scrollable list */
    .platform-list-b {
      display: flex;
      flex-direction: column;
      gap: 6px;
      max-height: 308px; /* 4.5 rows × 60px + 4 gaps × 6px + 14px extra = 308px */
      overflow-y: auto;
      overflow-x: hidden;
      padding-right: 4px;
      padding-bottom: 60px;
    }

    .platform-list-b::-webkit-scrollbar {
      width: 8px;
    }

    .platform-list-b::-webkit-scrollbar-track {
      background: transparent;
      border-radius: 4px;
    }

    .platform-list-b::-webkit-scrollbar-thumb {
      background: var(--gray-400);
      border-radius: 4px;
    }

    .platform-list-b::-webkit-scrollbar-thumb:hover {
      background: var(--gray-500);
    }

    /* Option B Platform Rows - right-aligned logos like Option A */
    .platform-list-b .platform-row {
      border: 2px solid #E9E9E9;
      border-radius: 8px;
      overflow: hidden;
      transition: border-color 0.12s, background 0.12s;
      background: white;
      flex-shrink: 0;
      cursor: pointer;
    }

    .platform-list-b .platform-row:hover {
      background: #F8F8F8;
    }

    .platform-list-b .platform-row.selected {
      border-color: var(--neutral);
    }

    .platform-list-b .platform-row__header {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 9px 12px;
      height: 60px;
      min-height: 60px;
      cursor: pointer;
      user-select: none;
    }

    .platform-list-b .platform-row__checkbox {
      display: none; /* Hidden per new design */
    }

    .platform-list-b .platform-row__name {
      flex: 1;
      font-size: 14px;
      font-weight: 400;
      color: var(--neutral);
      order: 1; /* Second in order */
    }

    .platform-list-b .platform-row__logo {
      width: 40px;
      height: 40px;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      overflow: hidden;
      order: 0; /* First in order */
    }

    .platform-list-b .platform-row__logo-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .platform-list-b .platform-row__options-icon {
      width: 40px;
      height: 40px;
      padding: 11px;
      border: 1px solid var(--gray-300);
      border-radius: 4px;
      background: white;
      order: 2; /* Last in order */
      color: var(--subdued);
      flex-shrink: 0;
      opacity: 0;
      transition: opacity 0.13s;
      cursor: pointer;
      box-sizing: border-box;
    }

    .platform-list-b .platform-row.selected .platform-row__options-icon {
      opacity: 1;
    }

    /* ── Divider ── */
    .divider { height:1px; background:var(--gray-100); }

    /* ── Content Credentials ── */
    .content-credentials {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 20px;
    }

    .content-credentials__header {
      display: flex;
      align-items: center;
    }

    .toggle-label {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      user-select: none;
    }

    .toggle-input {
      position: absolute;
      opacity: 0;
      width: 0;
      height: 0;
    }

    .toggle-switch {
      position: relative;
      width: 26px;
      height: 16px;
      background: transparent;
      border-radius: 12px;
      transition: background 0.2s, border 0.2s;
      border: 2px solid var(--neutral);
    }

    .toggle-switch::after {
      content: '';
      position: absolute;
      top: 2px;
      left: 2px;
      width: 8px;
      height: 8px;
      background: var(--neutral);
      border-radius: 50%;
      transition: transform 0.2s, background 0.2s;
    }

    .toggle-input:checked + .toggle-switch {
      background: var(--neutral);
      border-color: var(--neutral);
    }

    .toggle-input:checked + .toggle-switch::after {
      transform: translateX(10px);
      background: white;
    }

    .toggle-text {
      font-size: 14px;
      font-weight: 400;
      color: var(--neutral);
    }

    .content-credentials__link {
      font-size: 14px;
      color: var(--blue);
      text-decoration: none;
      margin-left: 34px;
    }

    .content-credentials__link:hover {
      text-decoration: underline;
    }

    .content-credentials__note {
      background: var(--layer1);
      border-radius: 6px;
      padding: 12px;
      font-size: 13px;
      color: var(--subdued);
    }

    .note-header {
      display: flex;
      align-items: center;
      gap: 6px;
      font-weight: 600;
      color: var(--neutral);
      margin-bottom: 4px;
    }

    .note-header svg {
      color: var(--gray-500);
    }

    .content-credentials__note p {
      margin: 0;
      line-height: 1.5;
    }

    /* ── Note box ── */
    .note-box {
      background: var(--layer1); border-radius: 8px;
      padding: 14px 16px; font-size: 14px;
      color: var(--subdued); line-height: 1.5;
    }
    .note-box-title {
      display: flex; align-items: center; gap: 8px;
      font-size: 14px; color: var(--neutral);
      font-weight: 400; margin-bottom: 8px;
    }
    .note-box ul { padding-left: 20px; }
    .note-box ul li { margin-bottom: 4px; }
    .note-box a { color: var(--blue); text-decoration: none; }
    .note-box a:hover { text-decoration: underline; }

    /* ── Button ── */
    .btn-primary {
      width: auto;
      min-width: 100px;
      height: 36px;
      background: var(--neutral); color: #fff;
      border: none; border-radius: 60px;
      font-family: var(--font); font-size: 14px; font-weight: 700;
      cursor: pointer;
      display: flex; align-items: center; justify-content: center; gap: 8px;
      transition: background 0.15s, opacity 0.15s;
      padding: 0 20px;
      margin-left: auto;
    }
    .btn-primary span {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    .btn-primary:hover:not(:disabled) { background: var(--gray-800); }
    .btn-primary:focus-visible { outline: 2px solid var(--blue); outline-offset: 2px; }
    .btn-primary:disabled {
      background: var(--gray-100);
      color: var(--gray-400);
      cursor: not-allowed;
    }
    .btn-primary.loading { background: var(--gray-500); cursor: default; pointer-events: none; }
    .btn-primary.success { background: var(--green); color: #fff; pointer-events: none; }
    .btn-primary.error   { background: var(--red); color: #fff; }

    /* Spinner */
    .spinner {
      width: 14px; height: 14px;
      border: 2px solid rgba(255,255,255,0.35);
      border-top-color: white; border-radius: 50%;
      animation: spin 0.7s linear infinite; flex-shrink: 0;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* ── Progress bar ── */
    .progress-wrap {
      display: none; flex-direction: column; gap: 6px;
      margin-bottom: 20px;
    }
    .progress-wrap.visible { display: flex; }
    .progress-label {
      display: flex; justify-content: space-between;
      font-size: 12px; color: var(--subdued);
    }
    .progress-label span:last-child { color: var(--blue); font-weight: 600; }
    .progress-bar {
      width: 100%; height: 4px;
      background: var(--gray-100); border-radius: 2px; overflow: hidden;
    }
    .progress-fill {
      height: 100%; background: var(--blue); border-radius: 2px;
      transition: width 0.4s ease; width: 0%;
    }

    /* ══════════════════════════════════════════════
       Option C - Grid Layout
       ══════════════════════════════════════════════ */

    /* Remove gradient fade for Option C */
    #panel-c .platform-section::after {
      display: none;
    }

    /* Scrollable container for Option C when custom is expanded */
    #panel-c .platform-section {
      max-height: 390px;
      overflow-y: auto;
      overflow-x: hidden;
      padding-right: 4px;
    }

    #panel-c .section-label {
      padding-right: 4px;
    }

    #panel-c .platform-section::-webkit-scrollbar {
      width: 8px;
    }

    #panel-c .platform-section::-webkit-scrollbar-track {
      background: var(--gray-100);
      border-radius: 4px;
    }

    #panel-c .platform-section::-webkit-scrollbar-thumb {
      background: var(--gray-400);
      border-radius: 4px;
    }

    #panel-c .platform-section::-webkit-scrollbar-thumb:hover {
      background: var(--gray-500);
    }

    .platform-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
      margin-top: 12px;
    }

    .platform-card {
      background: white;
      border: 2px solid var(--gray-200);
      border-radius: 8px;
      padding: 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: border-color 0.15s ease, background 0.15s ease;
      height: 60px;
    }

    .platform-card:hover {
      border-color: var(--gray-300);
      background: var(--gray-25);
    }

    .platform-card.selected {
      border-color: var(--neutral);
      border-width: 2px;
    }

    .platform-card__logo {
      width: 40px;
      height: 40px;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .platform-card__logo-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      border-radius: 4px;
    }

    .platform-card__logo-text {
      font-size: 10px;
      font-weight: 700;
      color: white;
      text-align: center;
      line-height: 1.2;
      white-space: pre-line;
    }

    .platform-card__name {
      display: none;
    }

    .platform-card--custom {
      grid-column: 1 / -1;
    }

    .platform-card--custom .platform-card__name {
      display: block;
      font-size: 14px;
      color: var(--neutral);
    }

    /* Custom settings panel */
    .custom-settings {
      display: none;
      margin-top: 0;
      background: white;
      border: 2px solid var(--neutral);
      border-radius: 8px;
      padding: 20px;
    }

    .custom-settings.open {
      display: block;
    }

    .custom-settings__title {
      font-size: 16px;
      font-weight: 600;
      color: var(--neutral);
      margin-bottom: 16px;
    }

    .custom-settings__field {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 16px;
    }

    .custom-settings__field:last-child {
      margin-bottom: 0;
    }

    .custom-settings__label {
      font-size: 13px;
      font-weight: 400;
      color: var(--subdued);
    }

    .custom-settings__filesize {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .custom-settings__filesize-label {
      font-size: 13px;
      font-weight: 400;
      color: var(--subdued);
    }

    .custom-settings__filesize-value {
      font-size: 13px;
      font-weight: 600;
      color: var(--neutral);
    }

    /* Export Modal */
    .export-modal {
      display: none;
      background: var(--gray-25);
      border-radius: 8px;
      box-shadow: var(--shadow);
      width: 344px;
      padding: 24px;
      flex-direction: column;
      gap: 16px;
    }

    .export-modal.visible {
      display: flex;
    }

    .export-modal__title {
      font-size: 20px;
      font-weight: 600;
      color: var(--neutral);
      margin: 0;
    }

    .export-modal__message {
      font-size: 14px;
      color: var(--subdued);
      margin: 0;
    }

    .export-modal__progress {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 8px;
    }

    .export-modal__percentage {
      font-size: 14px;
      font-weight: 600;
      color: var(--neutral);
    }

    .export-modal__bar {
      width: 100%;
      height: 8px;
      background: var(--gray-200);
      border-radius: 4px;
      overflow: hidden;
    }

    .export-modal__bar-fill {
      display: block;
      height: 100%;
      background: var(--blue);
      width: 0%;
      transition: width 0.1s linear;
      border-radius: 4px;
    }

  </style>
</head>
<body>

<div class="container">

  <!-- Option 1 -->
  <div class="option-wrapper">
    <div class="option-label" id="label-1">Option 1</div>
    <div class="panel" id="panel-1" role="dialog" aria-modal="false" aria-labelledby="panel-title-1">

      <!-- Header -->
      <div class="panel-header">
        <h2 id="panel-title-1">Export</h2>
        <p>We'll make sure the export is compliant to all platforms.</p>
      </div>

      <!-- Asset info bar -->
      <div class="asset-info" role="region" aria-label="Asset information">
        <div class="info-item">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.8"/>
            <path d="M12 7v5l3 3" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
          </svg>
          <span>0:30</span>
        </div>
        <div class="divider-v" aria-hidden="true"></div>
        <div class="info-item">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <rect x="3" y="5" width="18" height="14" rx="2" stroke="currentColor" stroke-width="1.8"/>
          </svg>
          <span>16:9</span>
        </div>
      </div>

      <!-- Radio List -->
      <div role="radiogroup" style="margin-top: 16px;">

        <!-- CTV channels Radio -->
        <label style="display: flex; align-items: center; gap: 12px; padding: 8px 0; cursor: pointer; position: relative;">
          <input type="radio" name="export-type-1" value="ctv" checked id="ctv-radio-1" style="width: 16px; height: 16px; cursor: pointer;">
          <span style="font-size: 14px; color: var(--neutral); user-select: none;">CTV channels (Recommended)</span>
          <div style="position: relative; display: inline-block; margin-left: auto;">
            <img src="logos/platforms.png" alt="Platform logos" id="platforms-img-1" style="height: 28px; width: auto; cursor: pointer;">
            <div id="platforms-tooltip-1" style="display: none; position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%); margin-bottom: 8px; padding: 8px 12px; background: var(--neutral); color: white; font-size: 12px; white-space: nowrap; border-radius: 4px; z-index: 1000; box-shadow: 0 2px 8px rgba(0,0,0,0.15);">
              Works for all CTV platforms
              <div style="position: absolute; top: 100%; left: 50%; transform: translateX(-50%); width: 0; height: 0; border-left: 6px solid transparent; border-right: 6px solid transparent; border-top: 6px solid var(--neutral);"></div>
            </div>
          </div>
        </label>

        <!-- Custom settings Radio -->
        <label style="display: flex; align-items: center; gap: 12px; padding: 8px 0; cursor: pointer;">
          <input type="radio" name="export-type-1" value="custom" id="custom-radio-1" style="width: 16px; height: 16px; cursor: pointer;">
          <span style="font-size: 14px; color: var(--neutral); user-select: none;">Custom settings</span>
        </label>

      </div>

      <!-- Custom Settings Panel (hidden by default) -->
      <div id="custom-settings-1" style="display: none; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 12px; padding: 16px; border: 1px solid var(--gray-300); border-radius: 8px; background: var(--gray-50);">

        <!-- Resolution -->
        <div>
          <label style="display: block; font-size: 14px; font-weight: 400; color: var(--neutral); margin-bottom: 8px; font-family: var(--font);">Resolution</label>
          <div style="position: relative;">
            <select style="width: 100%; height: 32px; padding: 0 36px 0 12px; border: none; border-radius: 6px; background-color: var(--gray-100); font-size: 14px; color: var(--neutral); font-weight: 400; font-family: var(--font); cursor: pointer; appearance: none;">
              <option value="1080p">1080p (default)</option>
              <option value="4k">4K</option>
            </select>
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); pointer-events: none; color: var(--gray-500);">
              <path d="M2 4.5L6 8.5L10 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div style="display: flex; align-items: center; gap: 6px; margin-top: 8px; font-size: 13px; color: var(--subdued); font-family: var(--font);">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <circle cx="8" cy="8" r="7" stroke="var(--blue)" stroke-width="1.5" fill="none"/>
              <path d="M5 8l2 2 4-4" stroke="var(--blue)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
            </svg>
            <span>Recommended</span>
          </div>
        </div>

        <!-- File Format -->
        <div>
          <label style="display: block; font-size: 14px; font-weight: 400; color: var(--neutral); margin-bottom: 8px; font-family: var(--font);">File format</label>
          <div style="position: relative;">
            <select style="width: 100%; height: 32px; padding: 0 36px 0 12px; border: none; border-radius: 6px; background-color: var(--gray-100); font-size: 14px; color: var(--neutral); font-weight: 400; font-family: var(--font); cursor: pointer; appearance: none;">
              <option value="mp4-h264">MP4 (H.264)</option>
              <option value="mp4-h265">MP4 (H.265)</option>
              <option value="mov">MOV</option>
            </select>
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); pointer-events: none; color: var(--gray-500);">
              <path d="M2 4.5L6 8.5L10 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div style="display: flex; align-items: center; gap: 6px; margin-top: 8px; font-size: 13px; color: var(--subdued); font-family: var(--font);">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <circle cx="8" cy="8" r="7" stroke="var(--blue)" stroke-width="1.5" fill="none"/>
              <path d="M5 8l2 2 4-4" stroke="var(--blue)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
            </svg>
            <span>Recommended</span>
          </div>
        </div>

        <!-- Frame Rate -->
        <div>
          <label style="display: block; font-size: 14px; font-weight: 400; color: var(--neutral); margin-bottom: 8px; font-family: var(--font);">Frame rate</label>
          <div style="position: relative;">
            <select style="width: 100%; height: 32px; padding: 0 36px 0 12px; border: none; border-radius: 6px; background-color: var(--gray-100); font-size: 14px; color: var(--neutral); font-weight: 400; font-family: var(--font); cursor: pointer; appearance: none;">
              <option value="29.97">29.97</option>
              <option value="24">24</option>
              <option value="25">25</option>
              <option value="30">30</option>
            </select>
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); pointer-events: none; color: var(--gray-500);">
              <path d="M2 4.5L6 8.5L10 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div style="display: flex; align-items: center; gap: 6px; margin-top: 8px; font-size: 13px; color: var(--subdued); font-family: var(--font);">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <circle cx="8" cy="8" r="7" stroke="var(--blue)" stroke-width="1.5" fill="none"/>
              <path d="M5 8l2 2 4-4" stroke="var(--blue)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
            </svg>
            <span>Recommended</span>
          </div>
        </div>

        <!-- Bitrate -->
        <div>
          <label style="display: block; font-size: 14px; font-weight: 400; color: var(--neutral); margin-bottom: 8px; font-family: var(--font);">Bitrate</label>
          <div style="position: relative;">
            <select style="width: 100%; height: 32px; padding: 0 36px 0 12px; border: none; border-radius: 6px; background-color: var(--gray-100); font-size: 14px; color: var(--neutral); font-weight: 400; font-family: var(--font); cursor: pointer; appearance: none;">
              <option value="20">20 Mbps</option>
              <option value="25">25 Mbps</option>
              <option value="30">30 Mbps</option>
            </select>
            <svg width="12" height="12" viewBox="0 0 12 12" fill="none" style="position: absolute; right: 12px; top: 50%; transform: translateY(-50%); pointer-events: none; color: var(--gray-500);">
              <path d="M2 4.5L6 8.5L10 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
          <div style="display: flex; align-items: center; gap: 6px; margin-top: 8px; font-size: 13px; color: var(--subdued); font-family: var(--font);">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
              <circle cx="8" cy="8" r="7" stroke="var(--blue)" stroke-width="1.5" fill="none"/>
              <path d="M5 8l2 2 4-4" stroke="var(--blue)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
            </svg>
            <span>Recommended</span>
          </div>
        </div>

      </div>

      <!-- Export Button -->
      <button class="btn-primary" id="export-btn-1" style="margin-top: 24px;">
        <span>Export</span>
      </button>

    </div>
  </div>

  <!-- Export Modal for Option 1 -->
  <div class="export-modal" id="export-modal-1">
    <h2 class="export-modal__title">Export in progress</h2>
    <p class="export-modal__message" id="export-modal-message-1">Starting export...</p>
    <div class="export-modal__progress">
      <span class="export-modal__percentage" id="export-modal-percentage-1">0%</span>
    </div>
    <div class="export-modal__bar">
      <div class="export-modal__bar-fill" id="export-modal-bar-fill-1"></div>
    </div>
  </div>


  <!-- Exploration Section (Old Options) -->
  <div style="margin-top: 32px; padding-top: 32px; border-top: 1px solid var(--gray-300);">
    <h3 style="font-size: 12px; font-weight: 600; color: var(--subdued); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 16px;">Exploration</h3>

  <!-- Option A -->
  <div class="option-wrapper">
    <div class="option-label" id="label-a">Option A</div>
    <div class="panel" id="panel-a" role="dialog" aria-modal="false" aria-labelledby="panel-title-a">

  <!-- Header -->
  <div class="panel-header">
    <h2 id="panel-title">Export</h2>
    <p>We'll make sure the export is compliant to the platform you select.</p>
  </div>

  <!-- Asset info bar -->
  <div class="asset-info" role="region" aria-label="Asset information">
    <div class="info-item">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.8"/>
        <path d="M12 7v5l3 3" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
      </svg>
      <span>0:30</span>
    </div>
    <div class="divider-v" aria-hidden="true"></div>
    <div class="info-item">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <rect x="3" y="5" width="18" height="14" rx="2" stroke="currentColor" stroke-width="1.8"/>
      </svg>
      <span>16:9</span>
    </div>
  </div>

  <!-- Platform list -->
  <div class="platform-section">
    <div class="section-label">
      <span>Platforms</span>
      <span class="count hidden" id="platform-count" aria-live="polite"></span>
    </div>
    <div class="platform-list" id="platform-list" role="group" aria-label="Platform selection">

      <div class="platform-row" role="checkbox" aria-checked="false" tabindex="0" data-platform="roku" aria-label="Roku" aria-expanded="false">
        <div class="platform-row-header">
          <div class="platform-check" aria-hidden="true">
            <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5L8 2.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <div class="platform-logo">
            <img src="logos/roku.png" alt="Roku logo" />
          </div>
          <span class="platform-name">Roku</span>
          <svg class="platform-chevron" width="12" height="12" viewBox="0 0 12 12" fill="none" aria-hidden="true">
            <path d="M2 4.5L6 8.5L10 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="platform-specs" aria-hidden="true">
          <div class="spec-row"><span class="spec-label">Format</span><span class="spec-value">MP4 (H.264)</span></div>
          <div class="spec-row"><span class="spec-label">Resolution</span><span class="spec-value">1080p</span></div>
          <div class="spec-row"><span class="spec-label">Max file size</span><span class="spec-value">42 MB / 1 GB</span></div>
        </div>
      </div>

      <div class="platform-row" role="checkbox" aria-checked="false" tabindex="0" data-platform="hulu" aria-label="Hulu" aria-expanded="false">
        <div class="platform-row-header">
          <div class="platform-check" aria-hidden="true">
            <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5L8 2.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <div class="platform-logo">
            <img src="logos/hulu.png" alt="Hulu logo" />
          </div>
          <span class="platform-name">Hulu</span>
          <svg class="platform-chevron" width="12" height="12" viewBox="0 0 12 12" fill="none" aria-hidden="true">
            <path d="M2 4.5L6 8.5L10 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="platform-specs" aria-hidden="true">
          <div class="spec-row"><span class="spec-label">Format</span><span class="spec-value">MP4 (H.264)</span></div>
          <div class="spec-row"><span class="spec-label">Resolution</span><span class="spec-value">1080p</span></div>
          <div class="spec-row"><span class="spec-label">Max file size</span><span class="spec-value warning">142 MB / 200 MB</span></div>
        </div>
      </div>

      <div class="platform-row" role="checkbox" aria-checked="false" tabindex="0" data-platform="amazon" aria-label="Amazon Fire TV" aria-expanded="false">
        <div class="platform-row-header">
          <div class="platform-check" aria-hidden="true">
            <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5L8 2.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <div class="platform-logo">
            <img src="logos/fire.png" alt="Amazon Fire TV logo" />
          </div>
          <span class="platform-name">Amazon Fire TV</span>
          <svg class="platform-chevron" width="12" height="12" viewBox="0 0 12 12" fill="none" aria-hidden="true">
            <path d="M2 4.5L6 8.5L10 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="platform-specs" aria-hidden="true">
          <div class="spec-row"><span class="spec-label">Format</span><span class="spec-value">MP4 (H.264)</span></div>
          <div class="spec-row"><span class="spec-label">Resolution</span><span class="spec-value">1080p</span></div>
          <div class="spec-row"><span class="spec-label">Max file size</span><span class="spec-value">500 MB / 2 GB</span></div>
        </div>
      </div>

      <div class="platform-row" role="checkbox" aria-checked="false" tabindex="0" data-platform="appletv" aria-label="Apple TV+" aria-expanded="false">
        <div class="platform-row-header">
          <div class="platform-check" aria-hidden="true">
            <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5L8 2.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <div class="platform-logo">
            <img src="logos/apple.png" alt="Apple TV+ logo" />
          </div>
          <span class="platform-name">Apple TV+</span>
          <svg class="platform-chevron" width="12" height="12" viewBox="0 0 12 12" fill="none" aria-hidden="true">
            <path d="M2 4.5L6 8.5L10 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="platform-specs" aria-hidden="true">
          <div class="spec-row"><span class="spec-label">Format</span><span class="spec-value">MP4 (H.264)</span></div>
          <div class="spec-row"><span class="spec-label">Resolution</span><span class="spec-value">1080p</span></div>
          <div class="spec-row"><span class="spec-label">Max file size</span><span class="spec-value">100 MB / 1 GB</span></div>
        </div>
      </div>

      <div class="platform-row" role="checkbox" aria-checked="false" tabindex="0" data-platform="peacock" aria-label="Peacock" aria-expanded="false">
        <div class="platform-row-header">
          <div class="platform-check" aria-hidden="true">
            <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5L8 2.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <div class="platform-logo">
            <img src="logos/peacock.png" alt="Peacock logo" />
          </div>
          <span class="platform-name">Peacock</span>
          <svg class="platform-chevron" width="12" height="12" viewBox="0 0 12 12" fill="none" aria-hidden="true">
            <path d="M2 4.5L6 8.5L10 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="platform-specs" aria-hidden="true">
          <div class="spec-row"><span class="spec-label">Format</span><span class="spec-value">MP4 (H.264)</span></div>
          <div class="spec-row"><span class="spec-label">Resolution</span><span class="spec-value">1080p</span></div>
          <div class="spec-row"><span class="spec-label">Max file size</span><span class="spec-value">200 MB / 1 GB</span></div>
        </div>
      </div>

      <div class="platform-row" role="checkbox" aria-checked="false" tabindex="0" data-platform="samsung" aria-label="Samsung Ads" aria-expanded="false">
        <div class="platform-row-header">
          <div class="platform-check" aria-hidden="true">
            <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5L8 2.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <div class="platform-logo">
            <img src="logos/samsung.png" alt="Samsung Ads logo" />
          </div>
          <span class="platform-name">Samsung Ads</span>
          <svg class="platform-chevron" width="12" height="12" viewBox="0 0 12 12" fill="none" aria-hidden="true">
            <path d="M2 4.5L6 8.5L10 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="platform-specs" aria-hidden="true">
          <div class="spec-row"><span class="spec-label">Format</span><span class="spec-value">MP4 (H.264)</span></div>
          <div class="spec-row"><span class="spec-label">Resolution</span><span class="spec-value">1080p</span></div>
          <div class="spec-row"><span class="spec-label">Max file size</span><span class="spec-value">150 MB / 500 MB</span></div>
        </div>
      </div>

      <div class="platform-row" role="checkbox" aria-checked="false" tabindex="0" data-platform="roku-channel" aria-label="The Roku Channel" aria-expanded="false">
        <div class="platform-row-header">
          <div class="platform-check" aria-hidden="true">
            <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5L8 2.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <div class="platform-logo">
            <img src="logos/roku.png" alt="The Roku Channel logo" />
          </div>
          <span class="platform-name">The Roku Channel</span>
          <svg class="platform-chevron" width="12" height="12" viewBox="0 0 12 12" fill="none" aria-hidden="true">
            <path d="M2 4.5L6 8.5L10 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="platform-specs" aria-hidden="true">
          <div class="spec-row"><span class="spec-label">Format</span><span class="spec-value">MP4 (H.264)</span></div>
          <div class="spec-row"><span class="spec-label">Resolution</span><span class="spec-value">1080p</span></div>
          <div class="spec-row"><span class="spec-label">Max file size</span><span class="spec-value">300 MB / 1 GB</span></div>
        </div>
      </div>

      <!-- Custom Platform -->
      <div class="platform-row platform-row--custom" role="checkbox" aria-checked="false" tabindex="0" data-platform="custom" aria-label="Custom" aria-expanded="false">
        <div class="platform-row-header">
          <div class="platform-check" aria-hidden="true">
            <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5L8 2.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <div class="platform-logo">
            <img src="logos/adobe.png" alt="Adobe logo" />
          </div>
          <span class="platform-name">Custom</span>
        </div>
        <div class="platform-specs platform-specs--custom" aria-hidden="true">
          <!-- Resolution -->
          <div class="custom-field">
            <label class="custom-field__label">Resolution</label>
            <div class="custom-dropdown">
              <button type="button" class="custom-select" id="custom-resolution-trigger">
                <span id="custom-resolution-value">1080p (default)</span>
              </button>
              <div class="custom-dropdown__menu" id="custom-resolution-menu">
                <div class="custom-dropdown__option selected" data-value="1080p">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>1080p (default)</span>
                </div>
                <div class="custom-dropdown__option" data-value="720p">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>720p</span>
                </div>
                <div class="custom-dropdown__option" data-value="4k">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>4K</span>
                </div>
              </div>
            </div>
            <div class="custom-recommended" id="custom-resolution-recommended">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <circle cx="8" cy="8" r="7" stroke="#1473E6" stroke-width="1.5" fill="none"/>
                <path d="M5 8l2 2 4-4" stroke="#1473E6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
              </svg>
              <span>Recommended</span>
            </div>
          </div>

          <!-- File Format -->
          <div class="custom-field">
            <label class="custom-field__label">File format</label>
            <select class="custom-select" id="custom-format">
              <option value="mp4">MP4 (H.264)</option>
              <option value="mov">MOV</option>
              <option value="webm">WebM</option>
            </select>
            <div class="custom-recommended">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <circle cx="8" cy="8" r="7" stroke="#1473E6" stroke-width="1.5" fill="none"/>
                <path d="M5 8l2 2 4-4" stroke="#1473E6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
              </svg>
              <span>Recommended</span>
            </div>
          </div>

          <!-- Audio -->
          <div class="custom-field">
            <label class="custom-field__label">Audio</label>
            <select class="custom-select" id="custom-audio">
              <option value="aac">AAC-LC stereo</option>
              <option value="mp3">MP3 stereo</option>
              <option value="none">No audio</option>
            </select>
            <div class="custom-recommended">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <circle cx="8" cy="8" r="7" stroke="#1473E6" stroke-width="1.5" fill="none"/>
                <path d="M5 8l2 2 4-4" stroke="#1473E6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
              </svg>
              <span>Recommended</span>
            </div>
          </div>

          <!-- File Size -->
          <div class="custom-field custom-field--filesize">
            <span class="custom-field__label">File size</span>
            <span class="custom-field__value">150 MB / 500 MB</span>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Content Credentials -->
  <div class="content-credentials">
    <div class="content-credentials__header">
      <label class="toggle-label">
        <input type="checkbox" id="content-credentials-toggle" class="toggle-input" checked>
        <span class="toggle-switch"></span>
        <span class="toggle-text">Apply Content Credentials</span>
      </label>
    </div>
    <a href="#" class="content-credentials__link">Learn more about Content Credentials</a>
    <!-- Note section removed temporarily - may bring back later
    <div class="content-credentials__note">
      <div class="note-header">
        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true">
          <circle cx="8" cy="8" r="7" stroke="currentColor" stroke-width="1.5"/>
          <path d="M8 7v4M8 5h.01" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <span>Note</span>
      </div>
      <p>Files will be packaged in a zip folder.</p>
    </div>
    -->
  </div>

  <!-- Progress bar -->
  <div class="progress-wrap" id="progress-wrap" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" aria-label="Export progress">
    <div class="progress-label">
      <span id="progress-text">Exporting…</span>
      <span id="progress-pct">0%</span>
    </div>
    <div class="progress-bar">
      <div class="progress-fill" id="progress-fill"></div>
    </div>
  </div>


  <!-- CTA button -->
  <button class="btn-primary" id="export-btn" disabled aria-disabled="true">
    <span id="btn-label">Export</span>
  </button>

</div>

  <!-- Export Modal for Option A -->
  <div class="export-modal" id="export-modal-a">
    <h2 class="export-modal__title">Export in progress</h2>
    <p class="export-modal__message" id="export-modal-message">Starting export...</p>
    <div class="export-modal__progress">
      <span class="export-modal__percentage" id="export-modal-percentage">0%</span>
    </div>
    <div class="export-modal__bar">
      <div class="export-modal__bar-fill" id="export-modal-bar-fill"></div>
    </div>
  </div>

  </div>

  <!-- Option B -->
  <div class="option-wrapper">
    <div class="option-label" id="label-b">Option B</div>
    <div class="panel panel-b" id="panel-b" role="dialog" aria-modal="false" aria-labelledby="panel-title-b">

      <!-- Main Content (can be hidden when showing options) -->
      <div id="panel-b-main">
        <!-- Header -->
        <div class="panel-header">
          <h2 id="panel-title-b">Export</h2>
          <p>We'll make sure the export is compliant to the platform you select.</p>
        </div>

      <!-- Asset Info -->
      <div class="asset-info-bar">
          <div class="asset-info-bar__item">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" class="asset-info-bar__icon" aria-hidden="true">
              <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.8"/>
              <path d="M12 7v5l3 3" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
            </svg>
            <span>0:30</span>
          </div>
          <div class="asset-info-bar__divider"></div>
          <div class="asset-info-bar__item">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" class="asset-info-bar__icon" aria-hidden="true">
              <rect x="3" y="5" width="18" height="14" rx="2" stroke="currentColor" stroke-width="1.8"/>
            </svg>
            <span>16:9</span>
          </div>
        </div>

        <!-- Platform List -->
        <div class="platform-section">
          <div class="section-label">
            <span>Platforms</span>
            <span id="platform-count-b" class="count hidden">0 selected</span>
          </div>
          <div class="platform-list platform-list-b" id="platform-list-b">
            <div class="platform-row" data-platform-b="roku">
              <div class="platform-row__header">
                <div class="platform-row__checkbox">
                  <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5L8 2.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <span class="platform-row__name">Roku</span>
                <svg class="platform-row__options-icon" width="18" height="18" viewBox="0 0 18 18" fill="none">
                  <line x1="2" y1="4" x2="16" y2="4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="5" cy="4" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                  <line x1="2" y1="9" x2="16" y2="9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="13" cy="9" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                  <line x1="2" y1="14" x2="16" y2="14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="8" cy="14" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                <div class="platform-row__logo">
                  <img src="logos/roku.png" alt="Roku logo" class="platform-row__logo-image" />
                </div>
              </div>
            </div>

            <div class="platform-row" data-platform-b="hulu">
              <div class="platform-row__header">
                <div class="platform-row__checkbox">
                  <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5L8 2.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <span class="platform-row__name">Hulu</span>
                <svg class="platform-row__options-icon" width="18" height="18" viewBox="0 0 18 18" fill="none">
                  <line x1="2" y1="4" x2="16" y2="4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="5" cy="4" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                  <line x1="2" y1="9" x2="16" y2="9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="13" cy="9" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                  <line x1="2" y1="14" x2="16" y2="14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="8" cy="14" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                <div class="platform-row__logo">
                  <img src="logos/hulu.png" alt="Hulu logo" class="platform-row__logo-image" />
                </div>
              </div>
            </div>

            <div class="platform-row" data-platform-b="amazon">
              <div class="platform-row__header">
                <div class="platform-row__checkbox">
                  <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5L8 2.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <span class="platform-row__name">Amazon Fire TV</span>
                <svg class="platform-row__options-icon" width="18" height="18" viewBox="0 0 18 18" fill="none">
                  <line x1="2" y1="4" x2="16" y2="4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="5" cy="4" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                  <line x1="2" y1="9" x2="16" y2="9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="13" cy="9" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                  <line x1="2" y1="14" x2="16" y2="14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="8" cy="14" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                <div class="platform-row__logo">
                  <img src="logos/fire.png" alt="Amazon Fire TV logo" class="platform-row__logo-image" />
                </div>
              </div>
            </div>

            <div class="platform-row" data-platform-b="appletv">
              <div class="platform-row__header">
                <div class="platform-row__checkbox">
                  <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5L8 2.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <span class="platform-row__name">Apple TV+</span>
                <svg class="platform-row__options-icon" width="18" height="18" viewBox="0 0 18 18" fill="none">
                  <line x1="2" y1="4" x2="16" y2="4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="5" cy="4" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                  <line x1="2" y1="9" x2="16" y2="9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="13" cy="9" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                  <line x1="2" y1="14" x2="16" y2="14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="8" cy="14" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                <div class="platform-row__logo">
                  <img src="logos/apple.png" alt="Apple TV+ logo" class="platform-row__logo-image" />
                </div>
              </div>
            </div>

            <div class="platform-row" data-platform-b="peacock">
              <div class="platform-row__header">
                <div class="platform-row__checkbox">
                  <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5L8 2.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <span class="platform-row__name">Peacock</span>
                <svg class="platform-row__options-icon" width="18" height="18" viewBox="0 0 18 18" fill="none">
                  <line x1="2" y1="4" x2="16" y2="4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="5" cy="4" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                  <line x1="2" y1="9" x2="16" y2="9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="13" cy="9" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                  <line x1="2" y1="14" x2="16" y2="14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="8" cy="14" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                <div class="platform-row__logo">
                  <img src="logos/peacock.png" alt="Peacock logo" class="platform-row__logo-image" />
                </div>
              </div>
            </div>

            <div class="platform-row" data-platform-b="samsung">
              <div class="platform-row__header">
                <div class="platform-row__checkbox">
                  <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5L8 2.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <span class="platform-row__name">Samsung Ads</span>
                <svg class="platform-row__options-icon" width="18" height="18" viewBox="0 0 18 18" fill="none">
                  <line x1="2" y1="4" x2="16" y2="4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="5" cy="4" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                  <line x1="2" y1="9" x2="16" y2="9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="13" cy="9" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                  <line x1="2" y1="14" x2="16" y2="14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="8" cy="14" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                <div class="platform-row__logo">
                  <img src="logos/samsung.png" alt="Samsung Ads logo" class="platform-row__logo-image" />
                </div>
              </div>
            </div>

            <div class="platform-row" data-platform-b="roku-channel">
              <div class="platform-row__header">
                <div class="platform-row__checkbox">
                  <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5L8 2.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <span class="platform-row__name">The Roku Channel</span>
                <svg class="platform-row__options-icon" width="18" height="18" viewBox="0 0 18 18" fill="none">
                  <line x1="2" y1="4" x2="16" y2="4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="5" cy="4" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                  <line x1="2" y1="9" x2="16" y2="9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="13" cy="9" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                  <line x1="2" y1="14" x2="16" y2="14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="8" cy="14" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                <div class="platform-row__logo">
                  <img src="logos/roku.png" alt="The Roku Channel logo" class="platform-row__logo-image" />
                </div>
              </div>
            </div>

            <!-- Custom Platform -->
            <div class="platform-row platform-row--custom" data-platform-b="custom">
              <div class="platform-row__header">
                <div class="platform-row__checkbox">
                  <svg width="10" height="10" viewBox="0 0 10 10" fill="none"><path d="M2 5l2.5 2.5L8 2.5" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </div>
                <span class="platform-row__name">Custom</span>
                <svg class="platform-row__options-icon" width="18" height="18" viewBox="0 0 18 18" fill="none">
                  <line x1="2" y1="4" x2="16" y2="4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="5" cy="4" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                  <line x1="2" y1="9" x2="16" y2="9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="13" cy="9" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                  <line x1="2" y1="14" x2="16" y2="14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <circle cx="8" cy="14" r="2" fill="white" stroke="currentColor" stroke-width="1.5"/>
                </svg>
                <div class="platform-row__logo">
                  <img src="logos/adobe.png" alt="Adobe logo" class="platform-row__logo-image" />
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Content Credentials -->
        <div class="content-credentials">
          <div class="content-credentials__header">
            <label class="toggle-label">
              <input type="checkbox" id="content-credentials-toggle-b" class="toggle-input" checked>
              <span class="toggle-switch"></span>
              <span class="toggle-text">Apply Content Credentials</span>
            </label>
          </div>
          <a href="#" class="content-credentials__link">Learn more about Content Credentials</a>
        </div>

        <!-- Progress Bar -->
        <div class="progress-wrap" id="progress-wrap-b" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" aria-label="Export progress">
          <div class="progress-label">
            <span id="progress-text-b">Exporting…</span>
            <span id="progress-pct-b">0%</span>
          </div>
          <div class="progress-bar">
            <div class="progress-fill" id="progress-fill-b"></div>
          </div>
        </div>

        <!-- Export Button -->
        <button class="btn-primary" id="export-btn-b" disabled aria-disabled="true">
          <span id="btn-label-b">Export</span>
        </button>
      </div>
      <!-- End panel-b-main -->

      <!-- Options Panel State (hidden by default) -->
      <div class="panel-b__options hidden" id="panel-b-options">
        <div class="options-header">
          <button class="back-button" id="back-button-b" aria-label="Back to platform list">
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M12 4L6 10L12 16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <h2 id="options-title-b">Platform Name</h2>
        </div>

        <div class="options-content" id="options-content-b">
          <!-- Resolution -->
          <div class="option-field">
            <label class="option-field__label">Resolution</label>
            <div class="custom-dropdown">
              <button type="button" class="option-field__select" id="option-resolution-trigger">
                <span id="option-resolution-value">1080p (default)</span>
              </button>
              <div class="custom-dropdown__menu" id="option-resolution-menu">
                <div class="custom-dropdown__option selected" data-value="1080p">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>1080p (default)</span>
                </div>
                <div class="custom-dropdown__option" data-value="720p">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>720p</span>
                </div>
                <div class="custom-dropdown__option" data-value="4k">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>4K</span>
                </div>
              </div>
            </div>
            <div class="option-field__recommended" id="option-resolution-recommended">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <circle cx="8" cy="8" r="7" stroke="var(--blue)" stroke-width="1.5" fill="none"/>
                <path d="M5 8l2 2 4-4" stroke="var(--blue)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
              </svg>
              <span>Recommended</span>
            </div>
          </div>

          <!-- File format -->
          <div class="option-field">
            <label class="option-field__label">File format</label>
            <div class="custom-dropdown">
              <button type="button" class="option-field__select" id="option-format-trigger">
                <span id="option-format-value">MP4 (H.264)</span>
              </button>
              <div class="custom-dropdown__menu" id="option-format-menu">
                <div class="custom-dropdown__option selected" data-value="mp4">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>MP4 (H.264)</span>
                </div>
                <div class="custom-dropdown__option" data-value="mov">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>MOV</span>
                </div>
                <div class="custom-dropdown__option" data-value="webm">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>WebM</span>
                </div>
              </div>
            </div>
            <div class="option-field__recommended" id="option-format-recommended">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <circle cx="8" cy="8" r="7" stroke="var(--blue)" stroke-width="1.5" fill="none"/>
                <path d="M5 8l2 2 4-4" stroke="var(--blue)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
              </svg>
              <span>Recommended</span>
            </div>
          </div>

          <!-- Audio -->
          <div class="option-field">
            <label class="option-field__label">Audio</label>
            <div class="custom-dropdown">
              <button type="button" class="option-field__select" id="option-audio-trigger">
                <span id="option-audio-value">AAC-LC stereo</span>
              </button>
              <div class="custom-dropdown__menu" id="option-audio-menu">
                <div class="custom-dropdown__option selected" data-value="aac-stereo">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>AAC-LC stereo</span>
                </div>
                <div class="custom-dropdown__option" data-value="aac-mono">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>AAC-LC mono</span>
                </div>
                <div class="custom-dropdown__option" data-value="pcm">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>PCM</span>
                </div>
              </div>
            </div>
            <div class="option-field__recommended" id="option-audio-recommended">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <circle cx="8" cy="8" r="7" stroke="var(--blue)" stroke-width="1.5" fill="none"/>
                <path d="M5 8l2 2 4-4" stroke="var(--blue)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
              </svg>
              <span>Recommended</span>
            </div>
          </div>

          <!-- File size -->
          <div class="option-field option-field--filesize">
            <span class="option-field__label">File size</span>
            <span class="option-field__value">150 MB / 500 MB</span>
          </div>
        </div>
      </div>

    </div>
  </div>

  <!-- Option C -->
  <div class="option-wrapper">
    <div class="option-label" id="label-c">Option C</div>
    <div class="panel" id="panel-c" role="dialog" aria-modal="false" aria-labelledby="panel-title-c">

      <!-- Header -->
      <div class="panel-header">
        <h2 id="panel-title-c">Export</h2>
        <p>We'll make sure the export is compliant to the platform you select.</p>
      </div>

      <!-- Asset info bar -->
      <div class="asset-info" role="region" aria-label="Asset information">
        <div class="info-item">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="1.8"/>
            <path d="M12 7v5l3 3" stroke="currentColor" stroke-width="1.8" stroke-linecap="round"/>
          </svg>
          <span>0:30</span>
        </div>
        <div class="divider-v"></div>
        <div class="info-item">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <rect x="3" y="5" width="18" height="14" rx="2" stroke="currentColor" stroke-width="1.8"/>
          </svg>
          <span>16:9</span>
        </div>
      </div>

      <!-- Platform Grid -->
      <div class="platform-section">
        <div class="section-label">
          <span>Platform</span>
          <span class="count" id="platform-count-c">(1 selected)</span>
        </div>
        <div class="platform-grid" id="platform-grid-c">
          <!-- Roku -->
          <div class="platform-card" data-platform-c="roku">
            <div class="platform-card__logo" style="background-color: transparent;">
              <img src="logos/roku.png" alt="Roku" class="platform-card__logo-image">
            </div>
            <span class="platform-card__name">Roku</span>
          </div>

          <!-- Apple TV -->
          <div class="platform-card" data-platform-c="appletv">
            <div class="platform-card__logo" style="background-color: transparent;">
              <img src="logos/apple.png" alt="Apple TV" class="platform-card__logo-image">
            </div>
            <span class="platform-card__name">Apple TV</span>
          </div>

          <!-- Fire TV -->
          <div class="platform-card" data-platform-c="firetv">
            <div class="platform-card__logo" style="background-color: transparent;">
              <img src="logos/fire.png" alt="Fire TV" class="platform-card__logo-image">
            </div>
            <span class="platform-card__name">Fire TV</span>
          </div>

          <!-- Hulu -->
          <div class="platform-card" data-platform-c="hulu">
            <div class="platform-card__logo" style="background-color: transparent;">
              <img src="logos/hulu.png" alt="Hulu" class="platform-card__logo-image">
            </div>
            <span class="platform-card__name">Hulu</span>
          </div>

          <!-- Samsung Ads -->
          <div class="platform-card" data-platform-c="samsung">
            <div class="platform-card__logo" style="background-color: transparent;">
              <img src="logos/samsung.png" alt="Samsung Ads" class="platform-card__logo-image">
            </div>
            <span class="platform-card__name">Samsung Ads</span>
          </div>

          <!-- Peacock -->
          <div class="platform-card" data-platform-c="peacock">
            <div class="platform-card__logo" style="background-color: transparent;">
              <img src="logos/peacock.png" alt="Peacock" class="platform-card__logo-image">
            </div>
            <span class="platform-card__name">Peacock</span>
          </div>

          <!-- Custom (full width) -->
          <div class="platform-card platform-card--custom" data-platform-c="custom" id="custom-card-c">
            <span class="platform-card__name">Custom</span>
          </div>
        </div>

        <!-- Custom Settings Panel -->
        <div class="custom-settings" id="custom-settings-c">
          <!-- Resolution -->
          <div class="custom-settings__field">
            <label class="custom-settings__label">Resolution</label>
            <div class="custom-dropdown">
              <button type="button" class="option-field__select" id="custom-resolution-trigger-c">
                <span id="custom-resolution-value-c">1080p (default)</span>
              </button>
              <div class="custom-dropdown__menu" id="custom-resolution-menu-c">
                <div class="custom-dropdown__option selected" data-value="1080p">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>1080p (default)</span>
                </div>
                <div class="custom-dropdown__option" data-value="720p">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>720p</span>
                </div>
                <div class="custom-dropdown__option" data-value="2160p">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>2160p (4K)</span>
                </div>
              </div>
            </div>
            <div class="option-field__recommended" id="custom-resolution-recommended-c" style="display: flex; align-items: center; gap: 6px;">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <circle cx="8" cy="8" r="7" stroke="var(--blue)" stroke-width="1.5" fill="none"/>
                <path d="M5 8l2 2 4-4" stroke="var(--blue)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
              </svg>
              <span style="font-size: 13px; color: var(--subdued);">Recommended</span>
            </div>
          </div>

          <!-- File Format -->
          <div class="custom-settings__field">
            <label class="custom-settings__label">File format</label>
            <div class="custom-dropdown">
              <button type="button" class="option-field__select" id="custom-format-trigger-c">
                <span id="custom-format-value-c">MP4 (H.264)</span>
              </button>
              <div class="custom-dropdown__menu" id="custom-format-menu-c">
                <div class="custom-dropdown__option selected" data-value="mp4">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>MP4 (H.264)</span>
                </div>
                <div class="custom-dropdown__option" data-value="mov">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>MOV</span>
                </div>
                <div class="custom-dropdown__option" data-value="webm">
                  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="custom-dropdown__option-check">
                    <path d="M3 8l4 4 6-6" stroke="#1473E6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <span>WebM</span>
                </div>
              </div>
            </div>
            <div class="option-field__recommended" id="custom-format-recommended-c" style="display: flex; align-items: center; gap: 6px;">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                <circle cx="8" cy="8" r="7" stroke="var(--blue)" stroke-width="1.5" fill="none"/>
                <path d="M5 8l2 2 4-4" stroke="var(--blue)" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
              </svg>
              <span style="font-size: 13px; color: var(--subdued);">Recommended</span>
            </div>
          </div>

          <!-- File Size -->
          <div class="custom-settings__filesize">
            <span class="custom-settings__filesize-label">File size</span>
            <span class="custom-settings__filesize-value">150 MB / 500 MB</span>
          </div>
        </div>
      </div>

      <!-- Progress Bar -->
      <div class="progress-container hidden" id="progress-container-c">
        <div class="progress-label">
          <span>Exporting...</span>
          <span id="progress-percent-c">0%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" id="progress-fill-c"></div>
        </div>
      </div>

      <!-- Export Button -->
      <button class="btn-primary" id="export-btn-c" aria-disabled="false">
        <span id="btn-label-c">Export (1 platform)</span>
      </button>

    </div>
  </div>

  </div> <!-- Close Exploration section -->

</div> <!-- Close container -->

<script>
  // ── Flyout Menu Toggles ──
  const label1 = document.getElementById('label-1');
  const label2 = document.getElementById('label-2');
  const labelA = document.getElementById('label-a');
  const labelB = document.getElementById('label-b');
  const labelC = document.getElementById('label-c');
  const panel1 = document.getElementById('panel-1');
  const panel2 = document.getElementById('panel-2');
  const panelA = document.getElementById('panel-a');
  const panelB = document.getElementById('panel-b');
  const panelC = document.getElementById('panel-c');

  label1.addEventListener('click', () => {
    panel1.classList.toggle('visible');
    label1.classList.toggle('active');
  });

  label2.addEventListener('click', () => {
    panel2.classList.toggle('visible');
    label2.classList.toggle('active');
  });

  labelA.addEventListener('click', () => {
    panelA.classList.toggle('visible');
    labelA.classList.toggle('active');
  });

  labelB.addEventListener('click', () => {
    panelB.classList.toggle('visible');
    labelB.classList.toggle('active');
  });

  labelC.addEventListener('click', () => {
    panelC.classList.toggle('visible');
    labelC.classList.toggle('active');
  });

  // ── Option 1: Custom Radio Toggle ──
  const customRadio1 = document.getElementById('custom-radio-1');
  const customSettings1 = document.getElementById('custom-settings-1');
  const radioInputs1 = document.querySelectorAll('input[name="export-type-1"]');

  radioInputs1.forEach(radio => {
    radio.addEventListener('change', () => {
      if (customRadio1.checked) {
        customSettings1.style.display = 'grid';
      } else {
        customSettings1.style.display = 'none';
      }
    });
  });

  // ── Option 1: Platform Logo Tooltip ──
  const platformsImg1 = document.getElementById('platforms-img-1');
  const platformsTooltip1 = document.getElementById('platforms-tooltip-1');

  if (platformsImg1 && platformsTooltip1) {
    platformsImg1.addEventListener('mouseenter', () => {
      platformsTooltip1.style.display = 'block';
    });

    platformsImg1.addEventListener('mouseleave', () => {
      platformsTooltip1.style.display = 'none';
    });
  }

  // ── Option 1: Export Flow ──
  const exportBtn1 = document.getElementById('export-btn-1');
  // panel1 is already declared at top of script
  const exportModal1 = document.getElementById('export-modal-1');
  const modalMessage1 = document.getElementById('export-modal-message-1');
  const modalPercentage1 = document.getElementById('export-modal-percentage-1');
  const modalBarFill1 = document.getElementById('export-modal-bar-fill-1');

  let state1 = { phase: 'idle' };

  function startExport1() {
    if (state1.phase !== 'idle') return;
    state1.phase = 'loading';

    // Hide the panel and show the export modal
    panel1.style.display = 'none';
    exportModal1.classList.add('visible');

    // Reset modal state
    modalMessage1.textContent = 'Starting export...';
    modalPercentage1.textContent = '0%';
    modalBarFill1.style.width = '0%';

    let pct = 0;
    const interval = setInterval(() => {
      pct += Math.random() * 18 + 4;
      if (pct > 97) pct = 97;
      modalBarFill1.style.width = pct + '%';
      modalPercentage1.textContent = Math.round(pct) + '%';
      modalMessage1.textContent = `Exporting for CTV platforms...`;
    }, 300);

    setTimeout(() => {
      clearInterval(interval);
      modalBarFill1.style.width = '100%';
      modalPercentage1.textContent = '100%';
      setTimeout(() => {
        const success = Math.random() > 0.1;

        // Close modal and show panel again
        exportModal1.classList.remove('visible');
        panel1.style.display = 'flex';

        if (success) {
          state1.phase = 'success';
          exportBtn1.classList.add('success');
          exportBtn1.disabled = true;
          exportBtn1.innerHTML = `
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M5 12l5 5L20 7" stroke="white" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Export complete</span>`;
        } else {
          state1.phase = 'error';
          exportBtn1.classList.add('error');
          exportBtn1.disabled = false;
          exportBtn1.innerHTML = `
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <circle cx="12" cy="12" r="10" stroke="white" stroke-width="2"/>
              <path d="M12 9v4M12 16h.01" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <span>Export failed — Try again</span>`;
        }
      }, 400);
    }, 3200);
  }

  function resetToIdle1() {
    state1.phase = 'idle';
    exportBtn1.classList.remove('success', 'error', 'loading');
    exportBtn1.innerHTML = '<span>Export</span>';
    exportBtn1.disabled = false;
  }

  exportBtn1.addEventListener('click', () => {
    if (state1.phase === 'error') {
      resetToIdle1();
      startExport1();
    } else {
      startExport1();
    }
  });

  // ── Option 2: Toggle Logic ──
  const ctvDefaultOption2 = document.getElementById('ctv-default-option-2');
  const ctvChevron2 = document.getElementById('ctv-chevron-2');
  const ctvSpecs2 = document.getElementById('ctv-specs-2');
  const customOption2 = document.getElementById('custom-option-2');
  const customChevron2 = document.getElementById('custom-chevron-2');
  const customSettings2 = document.getElementById('custom-settings-2');

  let option2State = 'ctv-default'; // 'ctv-default' or 'custom'
  let ctvExpanded2 = false;
  let customExpanded2 = false; // Custom starts closed

  // CTV Default option click
  ctvDefaultOption2.addEventListener('click', (e) => {
    // If already selected, toggle expansion
    if (option2State === 'ctv-default') {
      ctvExpanded2 = !ctvExpanded2;

      if (ctvExpanded2) {
        ctvSpecs2.style.display = 'block';
        ctvChevron2.style.transform = 'rotate(180deg)';
      } else {
        ctvSpecs2.style.display = 'none';
        ctvChevron2.style.transform = 'rotate(0deg)';
      }
    } else {
      // Switch to CTV default
      option2State = 'ctv-default';

      // Update option styling
      ctvDefaultOption2.style.borderColor = 'var(--neutral)';
      customOption2.style.borderColor = 'var(--gray-200)';

      // Show CTV chevron, hide custom chevron
      ctvChevron2.style.opacity = '1';
      customChevron2.style.opacity = '0';

      // Collapse custom settings
      customExpanded2 = false;
      customSettings2.style.display = 'none';
      customChevron2.style.transform = 'rotate(0deg)';

      // Don't auto-expand CTV specs when switching
      ctvExpanded2 = false;
      ctvSpecs2.style.display = 'none';
      ctvChevron2.style.transform = 'rotate(0deg)';
    }
  });

  // Custom option click
  customOption2.addEventListener('click', (e) => {
    // If clicking the header area (not inside the settings grid)
    if (!customSettings2.contains(e.target)) {
      // If already selected, toggle expansion
      if (option2State === 'custom') {
        customExpanded2 = !customExpanded2;

        if (customExpanded2) {
          customSettings2.style.display = 'grid';
          customChevron2.style.transform = 'rotate(180deg)';
        } else {
          customSettings2.style.display = 'none';
          customChevron2.style.transform = 'rotate(0deg)';
        }
      } else {
        // Switch to custom
        option2State = 'custom';

        // Update option styling
        ctvDefaultOption2.style.borderColor = 'var(--gray-200)';
        customOption2.style.borderColor = 'var(--neutral)';

        // Hide CTV chevron, show custom chevron
        ctvChevron2.style.opacity = '0';
        customChevron2.style.opacity = '1';

        // Collapse CTV specs
        ctvExpanded2 = false;
        ctvSpecs2.style.display = 'none';
        ctvChevron2.style.transform = 'rotate(0deg)';

        // Auto-expand custom settings when switching
        customExpanded2 = true;
        customSettings2.style.display = 'grid';
        customChevron2.style.transform = 'rotate(180deg)';
      }
    }
  });

  // ── Custom Dropdown Logic ──
  function initCustomDropdown(triggerId, menuId, valueId, recommendedId = null) {
    const trigger = document.getElementById(triggerId);
    const menu = document.getElementById(menuId);
    const valueEl = document.getElementById(valueId);
    const recommendedEl = recommendedId ? document.getElementById(recommendedId) : null;

    if (!trigger || !menu || !valueEl) return;

    trigger.addEventListener('click', (e) => {
      e.stopPropagation();
      menu.classList.toggle('open');
    });

    menu.querySelectorAll('.custom-dropdown__option').forEach(option => {
      option.addEventListener('click', () => {
        const value = option.dataset.value;
        const text = option.querySelector('span').textContent;

        // Update selected state
        menu.querySelectorAll('.custom-dropdown__option').forEach(opt => {
          opt.classList.remove('selected');
        });
        option.classList.add('selected');

        // Update displayed value
        valueEl.textContent = text;

        // Hide recommended label if non-default option selected
        if (recommendedEl) {
          const isDefault = text.toLowerCase().includes('default');
          recommendedEl.style.display = isDefault ? 'flex' : 'none';
        }

        // Close menu
        menu.classList.remove('open');
      });
    });

    // Close dropdown when clicking outside
    document.addEventListener('click', (e) => {
      if (!trigger.contains(e.target) && !menu.contains(e.target)) {
        menu.classList.remove('open');
      }
    });
  }

  // Initialize Option A dropdowns
  initCustomDropdown('custom-resolution-trigger', 'custom-resolution-menu', 'custom-resolution-value', 'custom-resolution-recommended');

  // Initialize Option B dropdowns
  initCustomDropdown('option-resolution-trigger', 'option-resolution-menu', 'option-resolution-value', 'option-resolution-recommended');
  initCustomDropdown('option-format-trigger', 'option-format-menu', 'option-format-value', 'option-format-recommended');
  initCustomDropdown('option-audio-trigger', 'option-audio-menu', 'option-audio-value', 'option-audio-recommended');

  // ── State ──
  const state = {
    selected: new Set(),
    phase: 'idle',
  };

  const platformNames = {
    roku: 'Roku', hulu: 'Hulu', amazon: 'Amazon Fire TV',
    appletv: 'Apple TV+', peacock: 'Peacock',
    samsung: 'Samsung Ads', 'roku-channel': 'The Roku Channel',
    custom: 'Custom',
  };

  // ── DOM refs ──
  const exportBtn     = document.getElementById('export-btn');
  const btnLabel      = document.getElementById('btn-label');
  const platformCount = document.getElementById('platform-count');
  const fileSizeLabel = document.getElementById('file-size-label');
  const progressWrap  = document.getElementById('progress-wrap');
  const progressFill  = document.getElementById('progress-fill');
  const progressPct   = document.getElementById('progress-pct');
  const progressText  = document.getElementById('progress-text');
  // panelA is already declared at top of script
  const exportModal   = document.getElementById('export-modal-a');
  const modalMessage  = document.getElementById('export-modal-message');
  const modalPercentage = document.getElementById('export-modal-percentage');
  const modalBarFill  = document.getElementById('export-modal-bar-fill');

  // ── Update UI ──
  function update() {
    const count = state.selected.size;

    // Count badge
    if (count > 0) {
      platformCount.textContent = `${count} selected`;
      platformCount.classList.remove('hidden');
    } else {
      platformCount.classList.add('hidden');
    }

    // Note single vs zip (removed)

    // Button label
    if (state.phase === 'idle') {
      if (count === 0) btnLabel.textContent = 'Export';
      else if (count === 1) btnLabel.textContent = 'Export (1 platform)';
      else btnLabel.textContent = `Export (${count} platforms)`;
    }

    const canExport = count > 0 && state.phase === 'idle';
    exportBtn.disabled = !canExport;
    exportBtn.setAttribute('aria-disabled', String(!canExport));
  }

  // ── Platform row interaction ──
  document.querySelectorAll('[data-platform]').forEach(row => {
    const checkbox = row.querySelector('.platform-check');
    const chevron  = row.querySelector('.platform-chevron');

    function handleClick(e) {
      const p = row.dataset.platform;
      const isSelected = state.selected.has(p);
      const isCustom = p === 'custom';
      const specs = row.querySelector('.platform-specs');

      // Check if checkbox was clicked
      const clickedCheckbox = e.target.closest('.platform-check') || e.target.closest('.platform-logo');

      if (clickedCheckbox) {
        // Clicking checkbox always toggles selection
        if (isSelected) {
          state.selected.delete(p);
          row.classList.remove('selected', 'open');
          row.setAttribute('aria-checked', 'false');
          row.setAttribute('aria-expanded', 'false');
          if (specs) specs.setAttribute('aria-hidden', 'true');
        } else {
          state.selected.add(p);
          row.classList.add('selected');
          row.setAttribute('aria-checked', 'true');
          // Custom platform always opens when selected
          if (isCustom) {
            row.classList.add('open');
            row.setAttribute('aria-expanded', 'true');
            if (specs) specs.setAttribute('aria-hidden', 'false');
          } else {
            row.classList.remove('open');
            row.setAttribute('aria-expanded', 'false');
            if (specs) specs.setAttribute('aria-hidden', 'true');
          }
        }
      } else {
        // Clicking elsewhere on selected row toggles expand
        if (isSelected) {
          // For custom platform, clicking row body does nothing (must use checkbox to deselect)
          if (isCustom) {
            // Do nothing - custom platform stays open when selected
          } else {
            // Regular platforms toggle expand
            const isOpen = row.classList.contains('open');
            if (isOpen) {
              row.classList.remove('open');
              row.setAttribute('aria-expanded', 'false');
              if (specs) specs.setAttribute('aria-hidden', 'true');
            } else {
              row.classList.add('open');
              row.setAttribute('aria-expanded', 'true');
              if (specs) specs.setAttribute('aria-hidden', 'false');
            }
          }
        } else {
          // Clicking unselected row selects it
          state.selected.add(p);
          row.classList.add('selected');
          row.setAttribute('aria-checked', 'true');
          // Custom platform always opens when selected
          if (isCustom) {
            row.classList.add('open');
            row.setAttribute('aria-expanded', 'true');
            if (specs) specs.setAttribute('aria-hidden', 'false');
          } else {
            row.setAttribute('aria-expanded', 'false');
            if (specs) specs.setAttribute('aria-hidden', 'true');
          }
        }
      }
      update();
    }

    row.addEventListener('click', handleClick);
    row.addEventListener('keydown', e => {
      if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); handleClick(e); }
    });
  });

  // ── Export flow ──
  function startExport() {
    if (state.phase !== 'idle' || state.selected.size === 0) return;
    state.phase = 'loading';

    // Hide the panel and show the export modal
    panelA.style.display = 'none';
    exportModal.classList.add('visible');

    // Reset modal state
    modalMessage.textContent = 'Starting export...';
    modalPercentage.textContent = '0%';
    modalBarFill.style.width = '0%';

    let pct = 0;
    const platforms = [...state.selected];
    const interval = setInterval(() => {
      pct += Math.random() * 18 + 4;
      if (pct > 97) pct = 97;
      modalBarFill.style.width = pct + '%';
      modalPercentage.textContent = Math.round(pct) + '%';
      const idx = Math.floor((pct / 100) * platforms.length);
      const name = platformNames[platforms[Math.min(idx, platforms.length - 1)]];
      modalMessage.textContent = `Exporting for ${name}...`;
    }, 300);

    setTimeout(() => {
      clearInterval(interval);
      modalBarFill.style.width = '100%';
      modalPercentage.textContent = '100%';
      setTimeout(() => {
        const success = Math.random() > 0.1;

        // Close modal and show panel again
        exportModal.classList.remove('visible');
        panelA.style.display = 'flex';

        if (success) {
          state.phase = 'success';
          exportBtn.classList.add('success');
          exportBtn.disabled = true;
          btnLabel.innerHTML = `
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M5 12l5 5L20 7" stroke="white" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Export complete</span>`;
          // External toast will show: "Adobe Sleek audio added" (or export success message)
        } else {
          state.phase = 'error';
          exportBtn.classList.add('error');
          exportBtn.disabled = false;
          exportBtn.setAttribute('aria-disabled', 'false');
          btnLabel.innerHTML = `
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <circle cx="12" cy="12" r="10" stroke="white" stroke-width="2"/>
              <path d="M12 9v4M12 16h.01" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <span>Export failed — Try again</span>`;
          // External toast will show error message
        }
      }, 400);
    }, 3200);
  }

  exportBtn.addEventListener('click', () => {
    if (state.phase === 'error') { resetToIdle(); startExport(); }
    else startExport();
  });

  function resetToIdle() {
    state.phase = 'idle';
    exportBtn.classList.remove('success', 'error', 'loading');
    progressWrap.classList.remove('visible');
    progressFill.style.width = '0%';
    update();
  }

  // ── Init ──
  update();

  // ═══════════════════════════════════════════════
  // OPTION B - Separate state and logic
  // ═══════════════════════════════════════════════

  const stateB = {
    selected: new Set(),
    phase: 'idle',
    showingOptions: false,
    currentPlatform: null,
  };

  const exportBtnB = document.getElementById('export-btn-b');
  const btnLabelB = document.getElementById('btn-label-b');
  const platformCountB = document.getElementById('platform-count-b');
  const panelBMain = document.getElementById('panel-b-main');
  const panelBOptions = document.getElementById('panel-b-options');
  const optionsTitleB = document.getElementById('options-title-b');
  const optionsBackBtn = document.getElementById('back-button-b');
  const progressWrapB = document.getElementById('progress-wrap-b');
  const progressFillB = document.getElementById('progress-fill-b');
  const progressPctB = document.getElementById('progress-pct-b');
  const progressTextB = document.getElementById('progress-text-b');

  // Debug: verify elements exist
  console.log('Panel B elements:', {
    panelBMain: !!panelBMain,
    panelBOptions: !!panelBOptions,
    optionsTitleB: !!optionsTitleB,
    optionsBackBtn: !!optionsBackBtn
  });

  function updateB() {
    const count = stateB.selected.size;

    // Count badge
    if (count > 0) {
      platformCountB.textContent = `${count} selected`;
      platformCountB.classList.remove('hidden');
    } else {
      platformCountB.classList.add('hidden');
    }

    // Button label
    if (stateB.phase === 'idle') {
      if (count === 0) btnLabelB.textContent = 'Export';
      else if (count === 1) btnLabelB.textContent = 'Export (1 platform)';
      else btnLabelB.textContent = `Export (${count} platforms)`;
    }

    const canExport = count > 0 && stateB.phase === 'idle';
    exportBtnB.disabled = !canExport;
    exportBtnB.setAttribute('aria-disabled', String(!canExport));
  }

  // Platform row interaction for Option B
  const optionBRows = document.querySelectorAll('[data-platform-b]');
  console.log('Found Option B rows:', optionBRows.length);

  optionBRows.forEach(row => {
    const platformId = row.dataset.platformB;
    console.log('Attaching listener to:', platformId);

    function handleClickB(e) {
      const isSelected = stateB.selected.has(platformId);
      const isCustom = platformId === 'custom';

      // Check if options icon was clicked
      const clickedOptions = e.target.closest('.platform-row__options-icon');

      console.log('Option B click:', platformId, 'isSelected:', isSelected, 'clickedOptions:', !!clickedOptions);

      if (clickedOptions && isSelected) {
        // Options icon clicked - navigate to options panel
        console.log('Options clicked for:', platformId);
        showOptionsPanel(platformId);
        return;
      }

      // Clicking row toggles selection (since checkboxes are hidden)
      if (isSelected) {
        console.log('Deselecting:', platformId);
        stateB.selected.delete(platformId);
        row.classList.remove('selected');
      } else {
        console.log('Selecting:', platformId);
        stateB.selected.add(platformId);
        row.classList.add('selected');
        // Custom platform always opens options panel when selected
        if (isCustom) {
          setTimeout(() => showOptionsPanel(platformId), 100);
        }
      }

      updateB();
    }

    row.addEventListener('click', handleClickB);
  });

  // Show/hide options panel with transitions
  function showOptionsPanel(platformId) {
    stateB.showingOptions = true;
    stateB.currentPlatform = platformId;

    // Update platform name in header
    const platformName = platformNames[platformId];
    optionsTitleB.textContent = platformName;

    // Animate out main panel (slides left)
    panelBMain.classList.remove('showing');
    panelBMain.classList.add('hiding');

    // After fade out, show and animate in options panel (slides in from right)
    setTimeout(() => {
      panelBMain.classList.add('hidden');
      panelBOptions.classList.remove('hidden');
      // Trigger reflow
      panelBOptions.offsetHeight;
      panelBOptions.classList.add('showing');
    }, 250);
  }

  function hideOptionsPanel() {
    stateB.showingOptions = false;
    stateB.currentPlatform = null;

    // Animate out options panel (slides right)
    panelBOptions.classList.remove('showing');

    // After fade out, show and animate in main panel (slides in from left)
    setTimeout(() => {
      panelBOptions.classList.add('hidden');
      panelBMain.classList.remove('hidden');
      // Trigger reflow
      panelBMain.offsetHeight;
      panelBMain.classList.remove('hiding');
      panelBMain.classList.add('showing');
    }, 250);
  }

  // Back button handler
  optionsBackBtn.addEventListener('click', hideOptionsPanel);

  // Export flow for Option B
  function startExportB() {
    if (stateB.phase !== 'idle' || stateB.selected.size === 0) return;
    stateB.phase = 'loading';

    exportBtnB.classList.add('loading');
    exportBtnB.disabled = true;
    exportBtnB.setAttribute('aria-disabled', 'true');
    btnLabelB.innerHTML = '<div class="spinner"></div><span>Exporting…</span>';

    progressWrapB.classList.add('visible');
    let pct = 0;
    const platforms = [...stateB.selected];
    const interval = setInterval(() => {
      pct += Math.random() * 18 + 4;
      if (pct > 97) pct = 97;
      progressFillB.style.width = pct + '%';
      progressPctB.textContent = Math.round(pct) + '%';
      progressWrapB.setAttribute('aria-valuenow', Math.round(pct));
      const idx = Math.floor((pct / 100) * platforms.length);
      const name = platformNames[platforms[Math.min(idx, platforms.length - 1)]];
      progressTextB.textContent = `Exporting for ${name}…`;
    }, 300);

    setTimeout(() => {
      clearInterval(interval);
      progressFillB.style.width = '100%';
      progressPctB.textContent = '100%';
      setTimeout(() => {
        progressWrapB.classList.remove('visible');
        exportBtnB.classList.remove('loading');
        const success = Math.random() > 0.1;
        if (success) {
          stateB.phase = 'success';
          exportBtnB.classList.add('success');
          exportBtnB.disabled = true;
          btnLabelB.innerHTML = `
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M5 12l5 5L20 7" stroke="white" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Export complete</span>`;
        } else {
          stateB.phase = 'error';
          exportBtnB.classList.add('error');
          exportBtnB.disabled = false;
          exportBtnB.setAttribute('aria-disabled', 'false');
          btnLabelB.innerHTML = `
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <circle cx="12" cy="12" r="10" stroke="white" stroke-width="2"/>
              <path d="M12 9v4M12 16h.01" stroke="white" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <span>Export failed — Try again</span>`;
        }
      }, 400);
    }, 3200);
  }

  function resetToIdleB() {
    stateB.phase = 'idle';
    exportBtnB.classList.remove('success', 'error', 'loading');
    progressWrapB.classList.remove('visible');
    progressFillB.style.width = '0%';
    updateB();
  }

  exportBtnB.addEventListener('click', () => {
    if (stateB.phase === 'error') { resetToIdleB(); startExportB(); }
    else startExportB();
  });

  // Init Option B
  updateB();

  // ══════════════════════════════════════════════════════════════
  // OPTION C - Grid Layout
  // ══════════════════════════════════════════════════════════════

  const platformCountC = document.getElementById('platform-count-c');
  const btnLabelC = document.getElementById('btn-label-c');
  const exportBtnC = document.getElementById('export-btn-c');
  const progressContainerC = document.getElementById('progress-container-c');
  const progressFillC = document.getElementById('progress-fill-c');
  const progressPercentC = document.getElementById('progress-percent-c');

  const stateC = {
    selected: new Set(), // Start with no selection
    phase: 'idle',
    progress: 0
  };

  function updateC() {
    const count = stateC.selected.size;

    // Platform count
    if (count === 0) {
      platformCountC.textContent = '';
      platformCountC.classList.add('hidden');
    } else if (count === 1) {
      platformCountC.textContent = '(1 selected)';
      platformCountC.classList.remove('hidden');
    } else {
      platformCountC.textContent = `(${count} selected)`;
      platformCountC.classList.remove('hidden');
    }

    // Button label
    if (stateC.phase === 'idle') {
      if (count === 0) btnLabelC.textContent = 'Export';
      else if (count === 1) btnLabelC.textContent = 'Export (1 platform)';
      else btnLabelC.textContent = `Export (${count} platforms)`;
    }

    const canExport = count > 0 && stateC.phase === 'idle';
    exportBtnC.disabled = !canExport;
    exportBtnC.setAttribute('aria-disabled', String(!canExport));
  }

  // Custom settings toggle
  const customCardC = document.getElementById('custom-card-c');
  const customSettingsC = document.getElementById('custom-settings-c');
  let customSettingsOpen = false;

  customCardC.addEventListener('click', () => {
    customSettingsOpen = !customSettingsOpen;
    customSettingsC.classList.toggle('open', customSettingsOpen);

    // Auto-select custom when opened
    if (customSettingsOpen && !stateC.selected.has('custom')) {
      stateC.selected.add('custom');
      customCardC.classList.add('selected');
      updateC();
    }
  });

  // Platform card clicks (non-custom)
  document.querySelectorAll('[data-platform-c]:not(#custom-card-c)').forEach(card => {
    card.addEventListener('click', () => {
      const p = card.dataset.platformC;
      if (stateC.selected.has(p)) {
        stateC.selected.delete(p);
        card.classList.remove('selected');
      } else {
        stateC.selected.add(p);
        card.classList.add('selected');
      }
      updateC();
    });
  });

  // Initialize custom dropdowns
  initCustomDropdown('custom-resolution-trigger-c', 'custom-resolution-menu-c', 'custom-resolution-value-c', 'custom-resolution-recommended-c');
  initCustomDropdown('custom-format-trigger-c', 'custom-format-menu-c', 'custom-format-value-c', 'custom-format-recommended-c');

  // Export simulation
  function startExportC() {
    stateC.phase = 'exporting';
    stateC.progress = 0;
    btnLabelC.textContent = 'Exporting...';
    exportBtnC.classList.add('loading');
    progressContainerC.classList.remove('hidden');

    const interval = setInterval(() => {
      stateC.progress += 2;
      progressFillC.style.width = stateC.progress + '%';
      progressPercentC.textContent = stateC.progress + '%';

      if (stateC.progress >= 100) {
        clearInterval(interval);
        stateC.phase = 'success';
        btnLabelC.textContent = 'Complete!';
        exportBtnC.classList.remove('loading');
        exportBtnC.classList.add('success');

        setTimeout(() => {
          resetToIdleC();
        }, 2000);
      }
    }, 50);
  }

  function resetToIdleC() {
    stateC.phase = 'idle';
    stateC.progress = 0;
    progressContainerC.classList.add('hidden');
    progressFillC.style.width = '0%';
    exportBtnC.classList.remove('loading', 'success', 'error');
    updateC();
  }

  exportBtnC.addEventListener('click', () => {
    if (stateC.phase === 'error') { resetToIdleC(); startExportC(); }
    else startExportC();
  });

  // Init Option C
  updateC();
</script>
</body>
</html>
